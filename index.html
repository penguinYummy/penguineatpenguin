<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Charger Tomato Penguin - ì¸ì¦ ë° ê¸°ëŠ¥ ì„ íƒ</title>
    <style>
        /* ê¸°ì¡´ ìŠ¤íƒ€ì¼ê³¼ Firebase ì¸ì¦ ìŠ¤íƒ€ì¼ì„ í†µí•© */
        body { font-family: Arial, sans-serif; padding: 20px; background-color: #f8f8f8; text-align: center; }
        .container { max-width: 500px; margin: 0 auto; background: white; padding: 30px; border-radius: 12px; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1); }
        h1 { color: #2c3e50; margin-bottom: 25px; }
        
        /* ì¸ì¦ ìƒíƒœ í‘œì‹œ */
        #userStatus { font-weight: bold; margin-bottom: 15px; padding: 10px; background: #ecf0f1; border-radius: 6px; }

        /* ì¸ì¦ í¼ ìŠ¤íƒ€ì¼ */
        input[type="email"], input[type="password"] { width: 90%; padding: 12px; margin: 8px 0; border: 1px solid #ccc; border-radius: 6px; box-sizing: border-box; }
        .auth-buttons button { width: 48%; padding: 10px; margin-top: 10px; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; }
        #signupBtn { background-color: #2ecc71; color: white; }
        #loginBtn { background-color: #3498db; color: white; }
        #logoutBtn { background-color: #e74c3c; color: white; margin-top: 15px; }

        /* ê¸°ëŠ¥ ë²„íŠ¼ ì»¨í…Œì´ë„ˆ (ë¡œê·¸ì¸ ì‹œ í‘œì‹œ) */
        .button-container { margin-top: 30px; }
        .feature-button {
            display: inline-block;
            padding: 15px 30px;
            margin: 10px;
            background-color: #f39c12; /* ê¸°ëŠ¥1 íƒ€ì´ë¨¸ */
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: bold;
            transition: background-color 0.2s;
        }
        .feature-button:hover { background-color: #e67e22; }

        .feature-execute-button {
            padding: 15px 30px;
            margin: 10px;
            background-color: #9b59b6; /* ê¸°ëŠ¥2 í€´ì¦ˆ */
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .feature-execute-button:hover { background-color: #8e44ad; }
    </style>
</head>
<body>

    <div class="container">
        <h1>í™˜ì˜í•©ë‹ˆë‹¤! ê¸°ëŠ¥ì„ ì„ íƒí•˜ì„¸ìš”.</h1>

        <div id="userStatus">ì¸ì¦ ìƒíƒœ í™•ì¸ ì¤‘...</div>

        <div id="authSection" class="auth-section" style="display: none;">
            <h3>ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤</h3>
            <input type="email" id="emailInput" placeholder="ì´ë©”ì¼">
            <input type="password" id="passwordInput" placeholder="ë¹„ë°€ë²ˆí˜¸">
            <div class="auth-buttons">
                <button id="loginBtn">ë¡œê·¸ì¸</button>
                <button id="signupBtn">íšŒì›ê°€ì…</button>
            </div>
        </div>

        <div id="dashboardSection" style="display: none;">
            
            <div class="button-container">
                <a href="timer.html" class="feature-button">ê¸°ëŠ¥ 1 (ìˆœê³µ ì‹œê°„ íƒ€ì´ë¨¸)</a>
                
                <button onclick="goToFeature2()" class="feature-execute-button">ê¸°ëŠ¥ 2 (History Quiz) ì‹¤í–‰</button>
            </div>
            
            <button id="logoutBtn">ë¡œê·¸ì•„ì›ƒ</button>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
    
    <script>
        // ************************************************
        // ğŸš¨ 1. YOUR_... ê°’ë“¤ì„ ë°˜ë“œì‹œ ìì‹ ì˜ Firebase ì„¤ì •ìœ¼ë¡œ ë³€ê²½í•˜ì„¸ìš”! ğŸš¨
        // ************************************************
        const firebaseConfig = {
            apiKey: "YOUR_API_KEY",
            authDomain: "YOUR_AUTH_DOMAIN",
            projectId: "YOUR_PROJECT_ID",
            storageBucket: "YOUR_STORAGE_BUCKET",
            messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
            appId: "YOUR_APP_ID"
        };

        // Firebase ì•± ì´ˆê¸°í™” (Compat ë²„ì „)
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        
        // --- DOM ìš”ì†Œ ---
        const emailInput = document.getElementById('emailInput');
        const passwordInput = document.getElementById('passwordInput');
        const signupBtn = document.getElementById('signupBtn');
        const loginBtn = document.getElementById('loginBtn');
        const logoutBtn = document.getElementById('logoutBtn');
        const userStatus = document.getElementById('userStatus');
        const authSection = document.getElementById('authSection');
        const dashboardSection = document.getElementById('dashboardSection');

        // --- ê¸°ëŠ¥ 2 ì´ë™ í•¨ìˆ˜ ---
        function goToFeature2() {
            window.location.href = 'history quiz.html'; 
        }

        // --- ì¸ì¦ ìƒíƒœ ë³€ê²½ ê°ì§€ ë° UI ì—…ë°ì´íŠ¸ ---
        auth.onAuthStateChanged((user) => {
            if (user) {
                // ë¡œê·¸ì¸ë¨: ê¸°ëŠ¥ ì„ íƒ ì˜ì—­ í‘œì‹œ
                userStatus.textContent = `ğŸŸ¢ í™˜ì˜í•©ë‹ˆë‹¤, ${user.email}ë‹˜!`;
                authSection.style.display = 'none';
                dashboardSection.style.display = 'block';
            } else {
                // ë¡œê·¸ì•„ì›ƒë¨: ë¡œê·¸ì¸/íšŒì›ê°€ì… ì˜ì—­ í‘œì‹œ
                userStatus.textContent = 'ğŸ”´ ë¡œê·¸ì¸ì„ í•´ì£¼ì„¸ìš”.';
                authSection.style.display = 'block';
                dashboardSection.style.display = 'none';
            }
        });

        // --- 1. íšŒì›ê°€ì… í•¸ë“¤ëŸ¬ ---
        signupBtn.addEventListener('click', () => {
            const email = emailInput.value;
            const password = passwordInput.value;
            
            if (password.length < 6) {
                alert("ë¹„ë°€ë²ˆí˜¸ëŠ” 6ìë¦¬ ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.");
                return;
            }

            auth.createUserWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    alert("íšŒì›ê°€ì… ë° ë¡œê·¸ì¸ ì„±ê³µ!");
                })
                .catch((error) => {
                    console.error("íšŒì›ê°€ì… ì˜¤ë¥˜:", error.code, error.message);
                    alert(`íšŒì›ê°€ì… ì‹¤íŒ¨: ${error.message}`);
                });
        });

        // --- 2. ë¡œê·¸ì¸ í•¸ë“¤ëŸ¬ ---
        loginBtn.addEventListener('click', () => {
            const email = emailInput.value;
            const password = passwordInput.value;

            auth.signInWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    alert("ë¡œê·¸ì¸ ì„±ê³µ!");
                })
                .catch((error) => {
                    console.error("ë¡œê·¸ì¸ ì˜¤ë¥˜:", error.code, error.message);
                    alert(`ë¡œê·¸ì¸ ì‹¤íŒ¨: ${error.message}`);
                });
        });

        // --- 3. ë¡œê·¸ì•„ì›ƒ í•¸ë“¤ëŸ¬ ---
        logoutBtn.addEventListener('click', () => {
            auth.signOut()
                .then(() => {
                    alert("ë¡œê·¸ì•„ì›ƒë˜ì—ˆìŠµë‹ˆë‹¤.");
                })
                .catch((error) => {
                    console.error("ë¡œê·¸ì•„ì›ƒ ì˜¤ë¥˜:", error);
                });
        });
    </script>
</body>
</html>
